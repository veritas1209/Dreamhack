<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Search</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 32px; }
    .card { border: 1px solid #ddd; border-radius: 12px; padding: 16px; max-width: 720px; }
    input { padding: 10px; width: 100%; box-sizing: border-box; margin: 8px 0; }
    button { padding: 10px 14px; }
    .err { color: #b00020; }
    ul { padding-left: 18px; }
    .muted { color: #666; }
    code { background: #f5f5f5; padding: 2px 6px; border-radius: 6px; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Search User</h1>

    {% if error %}
      <p class="err">{{ error }}</p>
    {% endif %}

    <form method="get" action="{{ url_for('search') }}">
      <input name="q" value="{{ q }}" placeholder="search user" />
      <button type="submit">Search</button>
    </form>

    {% if q2 is not none %}
      <p class="muted">Input: <code>{{ q2 }}</code></p>
    {% endif %}

    <h3>Results</h3>
    {% if rows and rows|length > 0 %}
      <ul>
        {% for r in rows %}
          <li>{{ r["id"] }} | {{ r["username"] }}</li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="muted">No results.</p>
    {% endif %}

    <p><a href="{{ url_for('index') }}">Home</a></p>
  </div>
</body>
</html>
